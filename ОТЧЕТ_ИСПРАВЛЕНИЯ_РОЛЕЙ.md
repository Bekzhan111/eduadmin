# üîß –û—Ç—á–µ—Ç –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–æ–ª–µ–π –≤ Dashboard

## ‚ùó –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—å—é "author" –≤–∏–¥–µ–ª–∏ "–ü–∞–Ω–µ–ª—å –°—Ç—É–¥–µ–Ω—Ç–∞" –≤–º–µ—Å—Ç–æ "–ü–∞–Ω–µ–ª—å –ê–≤—Ç–æ—Ä–∞". –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–≥–ª–∞ –≤–æ–∑–Ω–∏–∫–∞—Ç—å –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–æ–ª–µ–π.

## üîç –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
–§—É–Ω–∫—Ü–∏—è `get_dashboard_summary` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–ª–∞ —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ Dashboard.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è get_dashboard_summary
- **–§–∞–π–ª**: `update-dashboard-function.sql`
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ**: –§—É–Ω–∫—Ü–∏—è —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `users`
- **–ö–ª—é—á–µ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: `SELECT u.role, u.school_id, s.name as school_name FROM users u`

### 2. –£–¥–∞–ª–µ–Ω –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–¥ –æ—Ç–ª–∞–¥–∫–∏
- **–§–∞–π–ª**: `src/app/dashboard/page.tsx`
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ**: –£–±—Ä–∞–Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏

### 3. –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –∞–≤—Ç–æ—Ä
- **Email**: `test-author-1748785071598@example.com`
- **Password**: `TestPassword123!`
- **–†–æ–ª—å**: author

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏:
```
üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–ª–∏: AUTHOR
  ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏:
     –†–æ–ª—å –≤ –æ—Ç–≤–µ—Ç–µ: author
     –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: author
     –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ: ‚úÖ –î–ê

üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–ª–∏: SCHOOL
  ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏:
     –†–æ–ª—å –≤ –æ—Ç–≤–µ—Ç–µ: school
     –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: school
     –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ: ‚úÖ –î–ê

üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–ª–∏: STUDENT
  ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏:
     –†–æ–ª—å –≤ –æ—Ç–≤–µ—Ç–µ: student
     –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: student
     –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ: ‚úÖ –î–ê

üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–ª–∏: SUPER_ADMIN
  ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏:
     –†–æ–ª—å –≤ –æ—Ç–≤–µ—Ç–µ: super_admin
     –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: super_admin
     –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ: ‚úÖ –î–ê
```

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ SQL Editor
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `update-dashboard-function.sql`

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–≤—Ç–æ—Ä: `test-author-1748785071598@example.com` / `TestPassword123!`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ Dashboard
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–ü–∞–Ω–µ–ª—å –ê–≤—Ç–æ—Ä–∞"

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

| –†–æ–ª—å | –ó–∞–≥–æ–ª–æ–≤–æ–∫ Dashboard |
|------|-------------------|
| super_admin | –ü–∞–Ω–µ–ª—å –°—É–ø–µ—Ä–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| school | –ü–∞–Ω–µ–ª—å –®–∫–æ–ª—ã |
| teacher | –ü–∞–Ω–µ–ª—å –£—á–∏—Ç–µ–ª—è |
| student | –ü–∞–Ω–µ–ª—å –°—Ç—É–¥–µ–Ω—Ç–∞ |
| author | –ü–∞–Ω–µ–ª—å –ê–≤—Ç–æ—Ä–∞ |
| moderator | –ü–∞–Ω–µ–ª—å –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ |

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **update-dashboard-function.sql** - –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. **test-dashboard-function.js** - –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
3. **create-test-author.js** - –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∞–≤—Ç–æ—Ä–∞
4. **–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–û–ë–ù–û–í–õ–ï–ù–ò–Ø_–§–£–ù–ö–¶–ò–ò.md** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ dashboard:
```bash
node test-dashboard-function.js
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```bash
node create-test-author.js
```

## ‚úÖ –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –†–µ—à–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ**: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –≤ Supabase Dashboard
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å**: –í–æ–π—Ç–∏ –∫–∞–∫ –∞–≤—Ç–æ—Ä –∏ —É–±–µ–¥–∏—Ç—å—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ä–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –°–ª–µ–¥–∏—Ç—å –∑–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç—ã Dashboard

## üìä –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Å–∏—Å—Ç–µ–º—É

- **–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: Dashboard, —Ñ—É–Ω–∫—Ü–∏—è get_dashboard_summary
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: –í—Å–µ —Ä–æ–ª–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ author, moderator)
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è (–≤–ª–∏—è–µ—Ç –Ω–∞ UX, –Ω–æ –Ω–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- **–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: ~5 –º–∏–Ω—É—Ç (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL —Å–∫—Ä–∏–ø—Ç–∞)

---

*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: $(date)*
*–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é* 